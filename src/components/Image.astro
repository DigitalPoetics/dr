---
// Props: src, alt, caption (HTML string), width, height
const { src, alt, caption, width = "100%", height = "auto" } = Astro.props;
---
<figure>
  <img src={src} alt={alt} style={`width: ${width}; height: ${height};`} loading="lazy" />
  <figcaption>
    <!-- <span set:html={caption} /> -->
    <slot name="caption" />
        <!-- {caption ? <span set:html={caption} /> : <slot name="caption" />} -->
  </figcaption>
</figure>

<style>
  figure {
    margin: 1rem 0 1rem 0;
    /* text-align: center; */
  }

  img {
    max-width: 100%;
    height: auto;
    border-radius: 0.5rem;
    border: var(--image-border);
  }

  figcaption {
    margin-top: 0.2rem;
    font-size: 1rem;
    color: var(--light-text);
  }

  html.dark figcaption {
    color: var(--dark-text);
  }

  @media screen and (min-width: 636px) {
    figure {
      margin: 1rem 1rem 1rem 1rem;
    }
  }
</style>
